{% load static %}
<div class="windows-98 chat">
	<div class="warning"></div>
	<div class="window" style="margin: 32px; width: 40%">
		<div class="title-bar">
			<div class="title-bar-text">
				AnonChat
			</div>
		</div>

		<div class="window-body">
			<div class="sunken-panel">
				<table class="interactive">
					<thead>
						<tr>
							<th>Date</th>
							<th>Message</th>
						</tr>
					</thead>
					<tbody id="messages">
						{% for message in last_messages %}
							<tr>
								<td>{{message.time}}</td>
								<td>{{message.text}}</td>
							</tr>
						{% endfor %}
					</tbody>
				</table>
			</div>

			<div class="message-box">
				<input placeholder="what's up?..." type="text" name="anon-message" id="anon-message"><button id="send-anon-message" type="submit">Send</button>
			</div>
		</div>
	</div>
	

	<script src="{% static '/home/js/anon-chat.js' %}"></script>
</div>





<script>
  document.querySelectorAll('table.interactive').forEach(element => {
    element.addEventListener('click', (event) => {
      const row = event.path.find(element => element.tagName === 'TR' && element.parentElement.tagName === 'TBODY');
      if (row) {
        row.classList.toggle('highlighted');
      }
    })
  });
</script>